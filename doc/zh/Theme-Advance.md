# 主题-进阶

懂得CSS的用户可以自己设计自己的主题，步骤如下：  

## 1. 找到配置文件夹

**对于MAC用户：**  

找到应用程序包，右键其并在右键菜单中选择“显示包内容”，之后进入包中`Contents/Resources/app`文件夹。

**对于Linux和Windows：**  

找到应用文件夹，进入其内部的`resources/app`文件夹。

之后进入`app`文件夹中的`theme/config`文件夹，你便可以看到那些预定义的主题了。  

## 2. 创建新的主题

你可以直接拷贝一个预定义主题作为新的主题的模板，也可以新建一个文件夹重新开始，但无论哪一种，新的主题文件夹下都需要有三个文件：  

### 1. config.css

这个文件是主题的主要文件，你可以通过它覆盖几乎所有的样式，但我并不建议这么做。在设想的意图中，此文件应该只用于定义一些背景图片和背景颜色，这在预定义的主题中也应当可以看出。  
至于每个样式对应的是界面的那一块、有哪些样式可以修改，请在标题栏的`view`选单中选择`inspect browser`打开调试窗口自行观察。  

### 2. config.json

相信你也发现了，本软件界面中的很多部分的颜色是自动生成的，其原理是将字符串进行hash，而后将这个hash归一化到某个区间，再将最终处理后的这个字符串对应的数字作为hsl色彩空间的某一个参数算出最终的RGB值。由于字符串的hash只提供hsl的一个参数，其他两个参数需要预先指定，同时除了标准的RGB，一个独立的透明度也是应当被提供的。  
这个文件用于定义就是用于定义这些参数的，并且除了这些用于计算色彩的参数，还有一些其他不便放在css文件中的样式也作为配置项被放在了这里，配置项和注释如下：  

    :::js
    {
        //默认的语法高亮语言
        "defaultHighlight": "VHDL",
        //默认的可变参数，可选hue、saturation和lightness
        "CDCMode": "hue",
        //默认的可变参数动态范围
        "CDCRange": [260, 380],
        //当前有效的分类的背景颜色
        "chapterNowBackCSC":  [50, 60, 1],
        //当前有效的分类的边缘颜色
        "chapterNowBorderCSC": [50, 60, 1],
        //当前有效的分类的文字颜色
        "chapterNowFontCSC": [100, 100, 1],
        //默认的分类的背景颜色
        "chapterNormalBackCSC": [40, 70, 0.6],
        //默认的分类的边缘颜色
        "chapterNormalBorderCSC": [40, 50, 1],
        //默认的分类的文字颜色
        "chapterNormalFontCSC": [100, 25, 1],
        //当前有效分类对应的笔记列表的背景颜色
        "pageListBackCSC": [20, 40, 0.5],
        //当前有效分类对应的添加按钮的背景颜色
        "pageButtonBackCSC": [30, 50, 0.6],
        //当前有效分类对应的添加按钮的文字颜色
        "pageButtonFontCSC": [100, 20, 1],
        //当前有效的笔记的背景颜色
        "pageNowBackCSC": [100, 100, 1],
        //当前有效的笔记的文字颜色
        "pageNowFontCSC": [100, 30, 1],
        //默认的笔记的背景颜色
        "pageNormalBackCSC": [0, 0, 0],
        //默认的笔记的背景颜色
        "pageNormalFontCSC": [100, 30, 1],
        //当前笔记本对应的软件上部区域的背景色
        "headBackCSC": [50, 80, 0.6],
        //笔记本背景色
        "bookBackCSC": [50, 80, 0.8],
        //笔记本文字图形颜色
        "bookFontCSC": [80, 50, 0.8],
        //笔记本功能按钮颜色
        "bookShapeCSC": [50, 50, 0.8],
        //工具栏文字图形颜色
        "toolbarCSC": [60, 50, 0.7],
        //提示框后方覆盖背景
        "notifyDropBack": "rgba(100,100,100,0.6)",
        //警告提示框背景
        "notifyWarnBack": "",
        //错误提示框背景
        "notifyErrorBack": "",
        //系统信息提示框背景
        "notifySysInfoBack": "",
        //右上角通知信息背景
        "notifyInfoBack": "rgba(239, 194, 212, 0.9)"
    }
    
需要注意的是XXXCSC的格式，可分为以下几种：  

1. [0, 0, 0]: 这种方式下，可变参数由`CDCMode`决定，范围由`CDCRange`决定。
2. [0, 0, 0, "hue"]: 这种方式下，可变参数由第四个元素决定，范围由`CDCRange`决定。
3. [0, 0, 0, [0, 100]]: 这种方式下，可变参数由`CDCMode`决定，范围由第四个元素决定。
4. [0, 0, 0, "hue", [0, 100]]: 这种方式下，可变参数由第四个元素决定，范围由第五个元素决定。
    
### 3. editor.css

编辑器的主题。由于我使用的Brace库是利用JS中写CSS字符串来定义样式的，所以只能将其单独分离出来，具体的样式规则请到ace editor官网查询。